<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Project Momentum</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/settings.css">
</head>
<body>
    <nav id="main-nav"></nav>
    <main class="container">
        <h1>Settings</h1>
        <div class="settings-grid">

            <section class="card settings-card">
                <h2>Appearance</h2>
                <p>Choose between a light or dark theme for the application.</p>
                <div class="setting-action">
                    <button id="theme-toggle-btn" class="button-primary">Toggle Theme</button>
                </div>
            </section>

            <section class="card settings-card">
                <h2 class="data-management-header">Data Management</h2>
                <p>Backup all your tasks, habits, and notes to a single JSON file. You can import this file later to restore your data.</p>
                <div class="setting-action">
                    <button id="export-btn" class="button-primary">Export All Data</button>
                </div>
                <br>
                <div class="setting-action">
                    <input type="file" id="import-file" accept=".json" style="display: none;">
                    <button id="import-btn" class="button-primary">Import from File</button>
                </div>
            </section>

            <section class="card settings-card">
                <h2>AI Assistant</h2>
                <p>Enter your Groq API key to enable AI-powered features like task generation and note summarization. Your key is stored securely in your browser and is never sent to our servers.</p>
                <div class="setting-action api-key-action">
                    <input type="password" id="api-key-input" placeholder="gsk_...">
                    <button id="save-key-btn" class="button-primary">Save Key</button>
                    <span id="api-key-status"></span>
                </div>
            </section>

            <section class="card settings-card">
                <h2>Device Sync (Manual)</h2>
                <p><strong>Step 1:</strong> Click "Generate New Key" on both devices.</p>
                <p><strong>Step 2:</strong> On <strong>Device A</strong>, click "Create Offer" and copy the generated text.</p>
                <p><strong>Step 3:</strong> On <strong>Device B</strong>, click "Accept Offer" and paste the text from Device A.</p>
                <p><strong>Step 4:</strong> Copy the new text generated on <strong>Device B</strong>.</p>
                <p><strong>Step 5:</strong> On <strong>Device A</strong>, click "Finalize Sync" and paste the text from Device B.</p>
                <p>Once the connection is established, you can click "Sync Now" to exchange data.</p>
                <div class="setting-action">
                    <button id="generate-key-btn" class="button-primary">Generate New Key</button>
                    <input type="text" id="local-key-display" readonly placeholder="Your sync key will appear here...">
                </div>
                <hr>
                <div class="setting-action">
                    <button id="create-offer-btn" class="button-primary">Create Offer</button>
                    <button id="accept-offer-btn" class="button-primary">Accept Offer</button>
                    <button id="finalize-sync-btn" class="button-primary">Finalize Sync</button>
                </div>
                <hr>
                <div class="setting-action">
                    <button id="sync-now-btn" class="button-primary">Sync Now</button>
                </div>
            </section>

        </div>
    </main>

    
    
    <script src="js/features/settings.js"></script>
    <script src="js/features/sync.js"></script>
    <script src="js/ui.js"></script>
</body>
</html>
