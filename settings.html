<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Project Momentum</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/settings.css">
</head>
<body>
    <nav id="main-nav"></nav>
    <main class="container">
        <h1>Settings</h1>
        <div class="settings-grid">

            <section class="card settings-card">
                <h2>Appearance</h2>
                <p>Choose between a light or dark theme for the application.</p>
                <div class="setting-action">
                    <button id="theme-toggle-btn" class="button-primary">Toggle Theme</button>
                </div>
            </section>

            <section class="card settings-card">
                <h2 class="data-management-header">Data Management</h2>
                <p>Backup all your tasks, habits, and notes to a single JSON file. You can import this file later to restore your data.</p>
                <div class="setting-action">
                    <button id="export-btn" class="button-primary">Export All Data</button>
                </div>
                <br>
                <div class="setting-action">
                    <input type="file" id="import-file" accept=".json" style="display: none;">
                    <button id="import-btn" class="button-primary">Import from File</button>
                </div>
            </section>

            <section class="card settings-card">
                <h2>AI Assistant</h2>
                <p>Enter your Groq API key to enable AI-powered features like task generation and note summarization. Your key is stored securely in your browser and is never sent to our servers.</p>
                <div class="setting-action api-key-action">
                    <input type="password" id="api-key-input" placeholder="gsk_...">
                    <button id="save-key-btn" class="button-primary">Save Key</button>
                    <span id="api-key-status"></span>
                </div>
            </section>

            <section class="card settings-card">
                <h2>Device Sync</h2>
                <p>Synchronize your data with other devices on the same Wi-Fi network.</p>
                <div id="peer-list-container">
                    <!-- Peer list will be dynamically populated here -->
                </div>
                <div class="setting-action">
                    <button id="connect-new-device-btn" class="button-primary">Connect New Device</button>
                    <button id="disconnect-device-btn" class="button-primary" style="display: none;">Disconnect</button>
                </div>
            </section>

        </div>
    </main>

    <script src="js/db/database.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/davidshimjs/qrcodejs/qrcode.min.js"></script>
    <script src="js/utils/qrcode.js"></script>
    <script src="js/features/settings.js"></script>
    <script src="js/features/sync.js"></script>
    <script src="js/ui.js"></script>
</body>
</html>
